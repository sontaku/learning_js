<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>계산기 Ajax</title>
<style>
	#wrap {
		border : 1px solid black;
		width : 700px;
		margin: 0 auto;
	}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="semantic/semantic.css">
<script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
<script src="semantic/semantic.js"></script>
<script type="text/javascript">
	window.onload = function() {
		document.querySelector("#calc").onclick=calc_click
	}
	
	function calc_click() {
		let num1 = document.querySelector("#num1").value
		let num2 = document.querySelector("#num2").value
		//let idx = document.querySelector("#opr").options.selectedIndex
		//let opr = document.querySelector("#opr").options[idx].textContent
		let opr = document.querySelector('input[name="opr"]:checked').value
		opr = encodeURIComponent(opr)
		
		let opt = {}
		opt.url = "calc.jsp?num1=" + num1 + "&num2=" + num2 + "&opr=" + opr
		opt.success = function(data) {
			document.querySelector("#result").textContent = data
		}
				
		$.ajax(opt)
	}
</script>
</head>
<body>

	<div id="wrap">
		<div id="inner">
			<input id="num1">
			<!-- <select id="opr"> -->
			
				<!-- <option>+</option>
				<option>-</option>
				<option>*</option>
				<option>/</option> -->
				<form action="calc.jsp" id="opr"> <!-- name값 호출 방식 바꾸기 -->
					<input type="radio" name="opr" value="+" checked/>+
      				<input type="radio" name="opr" value="-"/>-
      				<input type="radio" name="opr" value="*"/>*
      				<input type="radio" name="opr" value="/"/>/
      				<input type="radio" name="opr" value="%"/>%
      				<input type="radio" name="opr" value="^"/>^
      			</form>
			<!--</select>  -->
			<input id="num2">
			<button id="calc">=</button>
		</div>

		<div id="result">결과</div>	
	</div>

</body>
</html>